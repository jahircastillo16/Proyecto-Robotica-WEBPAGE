<html><head><script defer="" src="https://unpkg.com/alpinejs@3.10.2/dist/cdn.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css">
  <link rel="stylesheet" type="text/css" href="../css/template.css">

<!-- page -->
<title>
    Inicio
</title>
</head><body><main class="min-h-screen w-full bg-gray-100 text-gray-700" x-data="layout">
    <!-- header page -->
    <header class="flex w-full items-center justify-between border-b-2 border-gray-200 bg-white p-2">
        <!-- logo -->
        <div class="flex items-center space-x-2">
            <button type="button" class="text-3xl" @click="asideOpen = !asideOpen"><i class="bx bx-menu"></i></button>
            <div>Menu</div>
        </div>

        <!-- button profile -->
        <div>

                <div class="imagenPerfil">
                    <button type="button" @click="profileOpen = !profileOpen" @click.outside="profileOpen = false" class="h-9 w-9 overflow-hidden rounded-full">
                        <img :src="' getRutaImagen()" alt="plchldr.co">
                    </button>
                </div>


            <!-- dropdown profile -->
            <div class="absolute right-2 mt-1 w-48 divide-y divide-gray-200 rounded-md border border-gray-200 bg-white shadow-md" x-show="profileOpen" x-transition="" style="display: none;">
                <div class="flex items-center space-x-2 p-2">
                    <img src="https://plchldr.co/i/40x40?bg=111111" alt="plchldr.co" class="h-9 w-9 rounded-full" gwd9m40m7="">
                    <div class="font-medium" id="usernameDisplay">jahir</div>
                </div>

                <div class="flex flex-col space-y-3 p-2">
                    <a href="perfil.html" class="transition hover:text-blue-600">Mi Perfil</a>
                    <a href="#" class="transition hover:text-blue-600">Editar Perfil</a>
                    <a href="#" class="transition hover:text-blue-600">Configuración</a>
                </div>

        <div class="p-2">
           <a href="../index.html" class="flex items-center space-x-2 transition hover:text-blue-600">
        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
        </svg>
        <div>Salir</div>
          </a>
        </div>
            </div>
        </div>
    </header>

    <div class="flex">
        <!-- aside -->
<aside class="flex w-72 flex-col space-y-2 border-r-2 border-gray-200 bg-white p-2" style="height: 90.5vh" x-show="asideOpen">
            <a href="#" class="flex items-center space-x-1 rounded-md px-2 py-3 hover:bg-gray-100 hover:text-blue-600">
                <span class="text-2xl"><i class="bx bx-home"></i></span>
                <span>Inicio</span>
            </a>

            <a href="#" class="flex items-center space-x-1 rounded-md px-2 py-3 hover:bg-gray-100 hover:text-blue-600">
                <span class="text-2xl">
                   <img src="../imagenes/graficas.png" width="24" height="25" alt="Gráficos">
                </span>

                <span>Graficas</span>
            </a>

            <a href="#" class="flex items-center space-x-1 rounded-md px-2 py-3 hover:bg-gray-100 hover:text-blue-600">
                <span class="text-2xl">
                   <img src="../imagenes/agregar.png" width="24" height="25" alt="Anadir">
                </span>
                <span>Añadir AC</span>
            </a>
            
                        <a href="#" class="flex items-center space-x-1 rounded-md px-2 py-3 hover:bg-gray-100 hover:text-blue-600">
                   <span class="text-2xl">
                   <img src="../imagenes/eliminar.png" width="24" height="25" alt="Eliminar">
                </span>
                <span>Borrar AC</span>
            </a>


            <a href="#" class="flex items-center space-x-1 rounded-md px-2 py-3 hover:bg-gray-100 hover:text-blue-600">
                <span class="text-2xl"><i class="bx bx-user"></i></span>
                <span>Perfil</span>
            </a>
        </aside>

        <!-- main content page -->


            
<!--
cierra card
-->
    <div class="card">
        <h2>Editar perfil</h2>
        <form action="../php/editar.php" method="post">
            <label for="nombre">Nombre:</label><br>
            <input type="text" id="nombre" name="nombre" required><br><br>

            <label for="apellido">Apellido:</label><br>
            <input type="text" id="apellido" name="apellido" required><br><br>

            <label for="contrasena">Contraseña:</label><br>
            <input type="password" id="contrasena" name="contrasena" required><br><br>

            <label for="confirmar_contrasena">Confirmar Contraseña:</label><br>
            <input type="password" id="confirmar_contrasena" name="confirmar_contrasena" required><br><br>

            <input type="submit" value="Enviar">
        </form>
    </div>
    




    </div>
<!--
cierra flex
-->
</main>


            <script>
               document.addEventListener("alpine:init", () => {
        Alpine.data("layout", () => ({
            profileOpen: false,
            asideOpen: true,
        }));
    });
    
                document.addEventListener('DOMContentLoaded', function () {
                    obtenerPerfil();
                });

                function obtenerPerfil() {
                    fetch('../php/obtener_perfil.php')
                        .then(function (response) {
                            if (response.ok) {
                                return response.json();
                            } else {
                                console.error('Error:', response.statusText);
                            }
                        })
                        .then(function (data) {
                            document.getElementById('nombre').textContent = data.nombre;
                            document.getElementById('apellido').textContent = data.apellido;
                            document.getElementById('usuario').textContent = data.usuario;
                            document.getElementById('tipoUsuario').textContent = data.tipousuario;
                        })
                        .catch(function (error) {
                            console.error('Error:', error);
                        });
                }
                
            document.addEventListener('DOMContentLoaded', function() {
                var username = getCookie('username');
                if (username) {
                    var usernameDisplay = document.getElementById('usernameDisplay');
                    usernameDisplay.textContent = username;
                }

            });
            
            //funcion para extraer al que inicio sesion y obtener su imagen
                        //funcion para extraer al que inicio sesion y obtener su imagen
        function getRutaImagen() {
            var rutaImagen = getCookie('username');
            return rutaImagen ? rutaImagen : '../../fotos_usuario/usuario.jpg'; // Cambia 'default_ruta_imagen.jpg' por una ruta de imagen predeterminada si no se encuentra la ruta de la imagen en las cookies
        }
        
        function getCookie(name) {
            var value = "; " + document.cookie;
            var parts = value.split("; " + name + "=");
            if (parts.length === 2) return parts.pop().split(";").shift();
        }


            </script>

</body></html>